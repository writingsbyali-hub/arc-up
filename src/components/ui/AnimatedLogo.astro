---
interface Props {
  size?: 'sm' | 'md' | 'lg';
  showText?: boolean;
  showMark?: boolean;
  className?: string;
  animation?: 'subtle' | 'playful' | 'glow' | 'none';
}

const {
  size = 'md',
  showText = true,
  showMark = true,
  className = '',
  animation = 'subtle'
} = Astro.props;

const sizes = {
  sm: {
    text: 'text-xl',
    caret: 'text-base',
    svg: 70,
    gap: 'gap-3'
  },
  md: {
    text: 'text-3xl md:text-4xl',
    caret: 'text-2xl md:text-3xl',
    svg: 100,
    gap: 'gap-4 md:gap-6'
  },
  lg: {
    text: 'text-4xl md:text-5xl',
    caret: 'text-3xl md:text-4xl',
    svg: 140,
    gap: 'gap-6 md:gap-8'
  }
};

const currentSize = sizes[size];
---

<div class={`flex items-center ${currentSize.gap} ${className} logo-container`} data-animation={animation}>
  {showText && (
    <div
      class={`text-white uppercase tracking-wide font-semibold ${currentSize.text} logo-text`}
      style="font-family: 'Inter', 'Montserrat', sans-serif; letter-spacing: 0.05em;"
    >
      Arc<span class={`text-[#00FFFF] align-super ${currentSize.caret} logo-caret`}>^</span>
    </div>
  )}

  {showMark && (
    <svg
      width={currentSize.svg}
      height={currentSize.svg}
      viewBox="0 0 140 140"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      aria-label="arc^ logo"
      role="img"
      class="flex-shrink-0 logo-mark"
    >
      <!-- Bottom Arc - Living Earth Green (RE:EARTH/ecology) -->
      <path
        class="arc-bottom"
        d="M 30 95 A 45 45 0 0 0 110 95"
        stroke="#38B281"
        stroke-width="8"
        fill="none"
        stroke-linecap="round"
      />

      <!-- Left Upper Arc - Arc Electric Teal (RE:TECH) -->
      <path
        class="arc-left"
        d="M 20 85 A 50 50 0 0 1 35 45"
        stroke="#00FFFF"
        stroke-width="8"
        fill="none"
        stroke-linecap="round"
      />

      <!-- Right Upper Arc - Arc Electric Teal (RE:ALIGN) -->
      <path
        class="arc-right"
        d="M 105 45 A 50 50 0 0 1 120 85"
        stroke="#00FFFF"
        stroke-width="8"
        fill="none"
        stroke-linecap="round"
      />
    </svg>
  )}
</div>

<style>
  /* Fun, instant animations - no delays or fade-ins! */

  /* Respect user preferences */
  @media (prefers-reduced-motion: reduce) {
    .logo-container * {
      animation: none !important;
      transition: none !important;
    }
  }

  /* Base transitions */
  .logo-mark {
    transition: filter 0.3s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform-origin: center;
  }

  .logo-caret {
    display: inline-block;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Arc paths for individual animations */
  .arc-left, .arc-right, .arc-bottom {
    transition: transform 0.2s ease, filter 0.2s ease;
  }

  /* ========================================
     SUBTLE: Gentle hover effect
     ======================================== */
  [data-animation="subtle"]:hover .logo-mark {
    transform: scale(1.05);
  }

  [data-animation="subtle"]:hover .logo-caret {
    transform: translateY(-2px);
  }

  /* ========================================
     PLAYFUL: Bouncy, fun interactions
     (NO delays, just instant fun!)
     ======================================== */

  /* Hover on container: Bounce the logo */
  [data-animation="playful"]:hover .logo-mark {
    transform: scale(1.08);
  }

  /* Caret bounces up */
  [data-animation="playful"]:hover .logo-caret {
    transform: translateY(-3px);
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.6);
  }

  /* Individual arc movements with their own colors! */
  [data-animation="playful"]:hover .arc-left {
    transform: translateX(-2px);
    filter: drop-shadow(0 0 6px rgba(0, 255, 255, 0.8)) drop-shadow(0 0 12px rgba(0, 255, 255, 0.4));
  }

  [data-animation="playful"]:hover .arc-right {
    transform: translateX(2px);
    filter: drop-shadow(0 0 6px rgba(0, 255, 255, 0.8)) drop-shadow(0 0 12px rgba(0, 255, 255, 0.4));
  }

  [data-animation="playful"]:hover .arc-bottom {
    transform: translateY(1px);
    filter: drop-shadow(0 0 6px rgba(56, 178, 129, 0.8)) drop-shadow(0 0 12px rgba(56, 178, 129, 0.4));
  }

  /* Click/active state - satisfying squish */
  [data-animation="playful"]:active .logo-mark {
    transform: scale(0.95);
  }

  [data-animation="playful"]:active .logo-caret {
    transform: scale(0.9);
  }

  /* ========================================
     GLOW: Soft glow on hover
     ======================================== */
  [data-animation="glow"]:hover .logo-mark {
    filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4));
  }

  [data-animation="glow"]:hover .arc-bottom {
    filter: drop-shadow(0 0 6px rgba(56, 178, 129, 0.5));
  }
</style>

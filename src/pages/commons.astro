---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Commons â€” Data & Knowledge',
};

const streams = [
  {
    id: 'data',
    title: 'I. Data',
    status: 'In Development',
    statusColor: 'yellow',
    workDescription: 'Design APIs that make data ingestion seamless. Integrate global sensor networks into shared infrastructure. Build standardized schemas (JSON/CSV) so datasets talk to each other. Create distributed storage systems that keep data accessible and permanent. Turn raw observations into collective knowledge.',
    backgrounds: 'Backend development, database architecture, API design, IoT systems, distributed systems',
    projects: [
      { title: 'Data Ingestion API', lookingFor: 'Backend developers, API designers', status: 'Future Work' },
      { title: 'Sensor Network Integration', lookingFor: 'IoT engineers, systems architects', status: 'Future Work' },
      { title: 'Standardized Schema Definition', lookingFor: 'Database architects, data engineers', status: 'Future Work' },
    ],
  },
  {
    id: 'visualization',
    title: 'II. Visualization',
    status: 'Future Work',
    statusColor: 'red',
    workDescription: 'Design real-time monitoring dashboards that reveal patterns instantly. Build open-source visualization libraries anyone can use. Create public data access interfaces that make research transparent. Turn complex datasets into understandable graphics. Make the invisible visible.',
    backgrounds: 'Frontend development, UX/UI design, data visualization, D3.js, interactive graphics',
    projects: [
      { title: 'Real-Time Dashboard', lookingFor: 'Frontend developers, UX designers', status: 'Future Work' },
      { title: 'Visualization Library', lookingFor: 'Developers, data viz specialists', status: 'Future Work' },
      { title: 'Public Data Portal', lookingFor: 'Full-stack developers, designers', status: 'Future Work' },
    ],
  },
  {
    id: 'modeling',
    title: 'III. Modeling',
    status: 'Future Work',
    statusColor: 'red',
    workDescription: 'Apply systems theory to ecosystem dynamics. Build resilience models that predict tipping points. Simulate coupling and cycling dynamics across scales. Create predictive tools for long-term planning. Connect plasma interventions to ecological outcomes mathematically.',
    backgrounds: 'Computational modeling, systems ecology, mathematics, simulation, complexity science',
    projects: [
      { title: 'Ecosystem Resilience Model', lookingFor: 'Systems modelers, computational ecologists', status: 'Future Work' },
      { title: 'Coupling Dynamics Simulator', lookingFor: 'Mathematicians, developers', status: 'Future Work' },
      { title: 'Predictive Analysis Tools', lookingFor: 'Data scientists, modelers', status: 'Future Work' },
    ],
  },
];
---

<Layout metadata={metadata}>
  <div class="bg-primary-900 text-white min-h-screen">

    <!-- Hero Section -->
    <section class="relative py-16 md:py-24 bg-[radial-gradient(circle_at_top,#181f3d_0%,#080E21_90%)]">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">

        <!-- Breadcrumb -->
        <nav class="mb-8 text-sm">
          <ol class="flex items-center space-x-2 text-gray-400">
            <li><a href="/pathways" class="hover:text-arc-electric transition">Pathways</a></li>
            <li><span class="text-gray-600">/</span></li>
            <li class="text-white font-medium">Commons</li>
          </ol>
        </nav>

        <div class="text-center">
          <p class="text-sm font-mono text-blue-400 uppercase tracking-widest mb-4">
            Data & Knowledge
          </p>
          <h1 class="text-5xl md:text-6xl font-mono mb-6 tracking-tight text-white">
            The Commons
          </h1>
          <p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
            The future home for a global, decentralized dashboard. Every builder is a co-contributor, sharing data to validate and improve the next design.
          </p>
        </div>
      </div>
    </section>

    <!-- Quick Navigation -->
    <section class="bg-gray-900/30 border-b border-gray-800">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-6">
        <p class="text-sm text-gray-400 mb-3 text-center">Jump to stream:</p>
        <nav class="flex flex-wrap justify-center gap-4">
          <a href="#data" class="text-yellow-400 hover:text-yellow-300 transition font-mono hover:underline">
            ðŸ”— Data
          </a>
          <span class="text-gray-600">|</span>
          <a href="#visualization" class="text-green-400 hover:text-green-300 transition font-mono hover:underline">
            ðŸ“Š Visualization
          </a>
          <span class="text-gray-600">|</span>
          <a href="#modeling" class="text-blue-400 hover:text-blue-300 transition font-mono hover:underline">
            ðŸ”¬ Modeling
          </a>
        </nav>
      </div>
    </section>

    <!-- Streams Sections -->
    <section class="bg-primary-900 py-12 md:py-16">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 space-y-16">

        {streams.map((stream) => (
          <div id={stream.id} class="scroll-mt-20">
            {/* Stream Header */}
            <div class="flex items-start justify-between mb-6">
              <h2 class="text-3xl md:text-4xl font-mono text-white">{stream.title}</h2>
              <span
                class:list={[
                  'inline-block text-xs font-semibold px-3 py-1.5 rounded-full whitespace-nowrap ml-4',
                  stream.statusColor === 'green'
                    ? 'bg-green-900/50 text-green-400'
                    : stream.statusColor === 'blue'
                    ? 'bg-blue-900/50 text-blue-400'
                    : stream.statusColor === 'yellow'
                    ? 'bg-yellow-900/50 text-yellow-400'
                    : 'bg-red-900/50 text-red-400',
                ]}
              >
                {stream.status}
              </span>
            </div>

            {/* Work Description */}
            <div class="mb-6 p-6 rounded-xl bg-gray-900/30 backdrop-blur-sm border border-gray-700/50">
              <p class="text-sm font-mono text-living-earth uppercase tracking-wide mb-2">Your work here:</p>
              <p class="text-gray-300 leading-relaxed">{stream.workDescription}</p>
            </div>

            {/* Useful Backgrounds */}
            <div class="mb-8 p-4 rounded-lg bg-gray-800/30 border border-gray-700/30">
              <p class="text-xs font-mono text-arc-electric uppercase tracking-wide mb-1">Useful backgrounds:</p>
              <p class="text-sm text-gray-400">{stream.backgrounds}</p>
            </div>

            {/* Projects Table */}
            <div>
              <h3 class="text-xl font-mono text-white mb-4">Projects in this stream:</h3>
              <div class="overflow-x-auto">
                <table class="w-full border-collapse">
                  <thead>
                    <tr class="border-b-2 border-gray-700">
                      <th class="text-left py-3 px-4 text-sm font-mono text-gray-400 uppercase tracking-wide">Project</th>
                      <th class="text-left py-3 px-4 text-sm font-mono text-gray-400 uppercase tracking-wide">Looking For</th>
                      <th class="text-left py-3 px-4 text-sm font-mono text-gray-400 uppercase tracking-wide">Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    {stream.projects.map((project) => (
                      <tr class="border-b border-gray-800 hover:bg-gray-800/30 transition-colors">
                        <td class="py-4 px-4">
                          {project.link ? (
                            <a href={project.link} class="text-white hover:text-arc-electric transition-colors font-medium">
                              {project.title} â†’
                            </a>
                          ) : (
                            <span class="text-gray-300">{project.title}</span>
                          )}
                        </td>
                        <td class="py-4 px-4 text-sm text-gray-400">{project.lookingFor}</td>
                        <td class="py-4 px-4">
                          <span
                            class:list={[
                              'inline-block text-xs font-semibold px-2.5 py-1 rounded-full',
                              project.status === 'In Development'
                                ? 'bg-yellow-900/50 text-yellow-400'
                                : project.status === 'Active'
                                ? 'bg-green-900/50 text-green-400'
                                : 'bg-gray-800/50 text-gray-400',
                            ]}
                          >
                            {project.status}
                          </span>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>

            {/* Divider between streams */}
            {stream.id !== 'modeling' && (
              <div class="mt-16 pt-16 border-t-2 border-gray-800/70">
                <div class="flex items-center justify-center mb-8">
                  <div class="h-px w-16 bg-gradient-to-r from-transparent via-gray-600 to-transparent"></div>
                  <span class="mx-4 text-xs text-gray-600 font-mono uppercase tracking-widest">â—†</span>
                  <div class="h-px w-16 bg-gradient-to-r from-transparent via-gray-600 to-transparent"></div>
                </div>
              </div>
            )}
          </div>
        ))}

      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-[radial-gradient(circle_at_bottom,#181f3d_0%,#080E21_90%)] border-t border-gray-800">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
        <h2 class="text-3xl font-mono text-white mb-4">Ready to Contribute?</h2>
        <p class="text-xl text-gray-300 mb-8">
          Whether you build APIs, design dashboards, model ecosystems, or architect data systemsâ€”your work powers the global knowledge infrastructure.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/get-started"
            class="bg-arc-electric hover:bg-arc-electric/80 hover:scale-105 px-8 py-4 rounded-full font-bold text-white shadow-lg shadow-arc-electric/40 text-lg transition-all"
          >
            Get Started
          </a>
          <a
            href="https://workspace.xbyali.page"
            target="_blank"
            class="bg-living-earth hover:bg-living-earth/90 hover:scale-105 py-4 px-8 text-lg rounded-full font-bold shadow-lg shadow-living-earth/40 transition-all text-gray-900"
          >
            Access Workspace
          </a>
        </div>
      </div>
    </section>

  </div>
</Layout>
